CREATE TABLE people (id SMALLINT UNSIGNED AUTO_INCREMENT NOT NULL, hat_id SMALLINT UNSIGNED NOT NULL, email VARCHAR(50) DEFAULT NULL, lastname VARCHAR(50) NOT NULL, firstname VARCHAR(50) NOT NULL, discr VARCHAR(255) NOT NULL, INDEX IDX_28166A268C6A5980 (hat_id), UNIQUE INDEX hat_email_idx (email, hat_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE interpreters (id SMALLINT UNSIGNED NOT NULL, phone VARCHAR(16) DEFAULT NULL, dob DATE NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE location_types (id SMALLINT UNSIGNED AUTO_INCREMENT NOT NULL, type VARCHAR(60) NOT NULL, comments VARCHAR(200) DEFAULT '' NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE users (id SMALLINT UNSIGNED AUTO_INCREMENT NOT NULL, person_id SMALLINT UNSIGNED NOT NULL, password VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_1483A5E9217BBB47 (person_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE thing2 (id INT AUTO_INCREMENT NOT NULL, other_shit VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE interpreters_languages (interpreter_id SMALLINT UNSIGNED NOT NULL, language_id SMALLINT UNSIGNED NOT NULL, federal_certification TINYINT(1) DEFAULT NULL, INDEX IDX_E0423968AD59FFB1 (interpreter_id), INDEX IDX_E042396882F1BAF4 (language_id), PRIMARY KEY(interpreter_id, language_id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE event_types (id SMALLINT UNSIGNED AUTO_INCREMENT NOT NULL, category_id SMALLINT UNSIGNED DEFAULT NULL, name VARCHAR(60) NOT NULL, comments VARCHAR(60) DEFAULT '' NOT NULL, INDEX IDX_182B381C12469DE2 (category_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE locations (id SMALLINT UNSIGNED AUTO_INCREMENT NOT NULL, type_id SMALLINT UNSIGNED DEFAULT NULL, parent_location_id SMALLINT UNSIGNED DEFAULT NULL, name VARCHAR(60) NOT NULL, comments VARCHAR(200) DEFAULT '' NOT NULL, INDEX IDX_17E64ABAC54C8C93 (type_id), INDEX IDX_17E64ABA6D6133FE (parent_location_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE thing1 (id INT AUTO_INCREMENT NOT NULL, thing2_id INT DEFAULT NULL, shit VARCHAR(255) NOT NULL, UNIQUE INDEX UNIQ_F73671018CA8DD30 (thing2_id), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE event_categories (id SMALLINT UNSIGNED AUTO_INCREMENT NOT NULL, category VARCHAR(20) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE hats (id SMALLINT UNSIGNED AUTO_INCREMENT NOT NULL, type VARCHAR(50) NOT NULL, UNIQUE INDEX hat_idx (type), PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE judges (id SMALLINT UNSIGNED NOT NULL, default_location_id VARCHAR(255) NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
CREATE TABLE languages (id SMALLINT UNSIGNED AUTO_INCREMENT NOT NULL, name VARCHAR(50) NOT NULL, comments VARCHAR(200) DEFAULT '' NOT NULL, PRIMARY KEY(id)) DEFAULT CHARACTER SET utf8 COLLATE utf8_unicode_ci ENGINE = InnoDB;
ALTER TABLE people ADD CONSTRAINT FK_28166A268C6A5980 FOREIGN KEY (hat_id) REFERENCES hats (id);
ALTER TABLE interpreters ADD CONSTRAINT FK_4EBBDB02BF396750 FOREIGN KEY (id) REFERENCES people (id) ON DELETE CASCADE;
ALTER TABLE users ADD CONSTRAINT FK_1483A5E9217BBB47 FOREIGN KEY (person_id) REFERENCES people (id);
ALTER TABLE interpreters_languages ADD CONSTRAINT FK_E0423968AD59FFB1 FOREIGN KEY (interpreter_id) REFERENCES interpreters (id);
ALTER TABLE interpreters_languages ADD CONSTRAINT FK_E042396882F1BAF4 FOREIGN KEY (language_id) REFERENCES languages (id);
ALTER TABLE event_types ADD CONSTRAINT FK_182B381C12469DE2 FOREIGN KEY (category_id) REFERENCES event_categories (id);
ALTER TABLE locations ADD CONSTRAINT FK_17E64ABAC54C8C93 FOREIGN KEY (type_id) REFERENCES location_types (id);
ALTER TABLE locations ADD CONSTRAINT FK_17E64ABA6D6133FE FOREIGN KEY (parent_location_id) REFERENCES locations (id);
ALTER TABLE thing1 ADD CONSTRAINT FK_F73671018CA8DD30 FOREIGN KEY (thing2_id) REFERENCES thing2 (id);
ALTER TABLE judges ADD CONSTRAINT FK_1C5E0B5BF396750 FOREIGN KEY (id) REFERENCES people (id) ON DELETE CASCADE;
