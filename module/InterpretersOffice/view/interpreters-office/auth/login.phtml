<?php
/**
 *  view script for login form
 *  module/InterpretersOffice/view/interpreters-office/auth/login.phtml
 * @todo don't call get() multiple times for same element
 */
//$this->headScript()->appendFile($this->basepath().'/js/query-ui.min.js');
//$this->headScript()->appendFile($this->basepath().'/js/login.js');
$this->headTitle($this->title);
?>
<div class="panel-heading"><h2 class="navigation"><?php echo $this->title ?></h2></div>
<?php
foreach (['success','default','error','info','warning'] as $ns) {
    echo $this->flashMessenger()->render($ns, ['alert', 'alert-dismissible', "alert-{$ns}"]);
}

?>
<?php if ($this->status && $this->status != \Zend\Authentication\Result::SUCCESS) :?>
<div class="alert alert-warning alert-dismissible">authentication failed: invalid identity and/or password. <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button></div>
<?php else :?>
<p style="margin:1em 0 2em 0;font-size:120%">Please log in to continue.</p>    
<?php endif;?>
<form class="form-inline well" style="max-width:900px;display:inline-block" id="form-login" action="<?php echo $this->url('auth', ['action' => 'login']) ?>" method="post">
  <div class="form-group">
    <label class="sr-only" for="identity">username or email</label>
        <?php echo $this->formElementErrors($this->form->get('identity'))?>
    <?php echo $this->formElement($this->form->get('identity')); //return; ?>
  </div>
  <div class="form-group">
    <label class="sr-only" for="password">password</label>
        <?php echo $this->formElementErrors($this->form->get('password')) ?>
        <?php echo $this->formElement($this->form->get('password')); //return; ?>
  </div>
    <button type="submit" class="btn btn-default">log in</button>
    <?php echo $this->formElement($form->get('login_csrf')) ?>
    <?php echo $this->formElementErrors($this->form->get('login_csrf')) ?>
</form>
<p style="margin-top:3em">
<a href="#">Forgot password?</a> (too bad -- not yet implemented)</p>
<p><a href="#">Need to create a user account?</a> (too bad -- not yet implemented)</p>
