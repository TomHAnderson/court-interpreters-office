<?php  /**  module/Requests/view/admin/index.phtml  */?>
<h2><?php echo $this->navigation('admin-breadcrumbs')->breadcrumbs() ?></h2>

<p>
    This is the <code>admin/requests</code> page.
</p>
<?php if ($this->pending):
    printf("%d requests pending",$this->pending->getTotalItemCount());
    ?>
<table class="table table-bordered">
    <thead>
    </thead>
    <tbody>
<?php foreach ($this->pending as $r) : $r = array_merge($r,$r[0]); unset($r[0])?>
    <tr class="request" data-id="<?php echo $r['id']?>">
        <td><?php echo $r['date']->format('d-M-Y')?></td>
        <td><?php echo $r['time']->format('g:i a')?></td>
        <td><?php echo $r['language']?></td>
        <td><?php echo $r['type']?></td>
        <td><?php echo $r['location']?></td>
        <td><?php echo $r['judge']?></td>
        <td><?php echo $r['docket']?></td>
        <td><?php echo $this->defendants($r['id'])?></td>
    </tr>
<?php endforeach; ?>
    </tbody>
</table>
<?php endif; ?>
<?php // print_r($r) //
/*
Array
(
    [type] => probation PSI interview
    [judge] => Marrero
    [location] => MDC Brooklyn
    [language] => Spanish
    [id] => 20506
    [date] => DateTime Object
        (
            [date] => 2019-01-22 00:00:00.000000
            [timezone_type] => 3
            [timezone] => America/New_York
        )

    [time] => DateTime Object
        (
            [date] => 1970-01-01 16:00:00.000000
            [timezone_type] => 3
            [timezone] => America/New_York
        )

    [docket] => 2011-CR-0740
    [extraData] => []
)
 */
 ?>
